<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auntie Esty's Personalized Skincare Routine Builder</title>
    <!-- Tailwind CSS import -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font and body styles for Inter font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fcfcfc; /* Soft off-white background */
            margin: 0;
            padding: 1rem;
            box-sizing: border-box;
            height: 100vh;
            overflow-y: auto; /* Allow scrolling within the iframe */
        }
        /* Responsive adjustments for smaller screens, now handled by Tailwind */
        @media (max-width: 640px) {
            .sm-text-lg { font-size: 1.125rem; }
            .sm-text-xl { font-size: 1.25rem; }
            .sm-p-4 { padding: 1rem; }
        }
    </style>
</head>
<body class="bg-[#fcfcfc] font-sans text-gray-800">

    <div id="main-container" class="routine-builder-container bg-white rounded-xl shadow-xl p-8 max-w-4xl mx-auto text-center border-2 border-[#E93F7C] box-border min-h-[700px] mb-8">
        <h1 class="text-3xl font-extrabold mb-4 leading-tight text-[#E93F7C] Auntie Esty's Routine Architect</h1>
        <p class="text-lg text-gray-600 mb-8">Let's build your perfect personalized skincare routine, bestie!</p>

        <form id="skincare-quiz">
            <!-- Section 1: Oiliness & Dryness -->
            <div class="mb-8">
                <h2 class="text-xl font-bold mb-4 text-[#E93F7C] border-b-2 border-b-[#E93F7C] pb-2">Section 1: Oiliness & Dryness</h2>
                
                <!-- Question 1 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">1. How does your skin typically feel immediately after cleansing (before applying any products)?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q1" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. Tight, dry, or flaky, especially on cheeks.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q1" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. Comfortable, balanced, neither tight nor oily.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q1" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Oily or shiny all over, especially in the T-zone.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q1" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. Oily/shiny in the T-zone, but dry/normal on cheeks.</span>
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">2. How does your skin typically feel mid-day, without makeup or products?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q2" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. Dry, tight, or flaky again.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q2" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. A little shiny, but generally normal.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q2" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Very oily or greasy, especially on the forehead, nose, and chin.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q2" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. A combination of oily and dry patches.</span>
                        </label>
                    </div>
                </div>

            </div>

            <!-- Section 2: Acne & Congestion -->
            <div class="mb-8">
                <h2 class="text-xl font-bold mb-4 text-[#E93F7C] border-b-2 border-b-[#E93F7C] pb-2">Section 2: Acne & Congestion</h2>
                
                <!-- Question 3 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">3. Do you regularly experience breakouts, blackheads, or whiteheads?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q3" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. No, rarely or never.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q3" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. Yes, occasionally, usually around my period.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q3" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Yes, frequently, with many active spots.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q3" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. Yes, I have cystic or nodular acne.</span>
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">4. Do you have enlarged pores or persistent blackheads?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q4" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. No, my pores are small and not a concern.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q4" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. Yes, but only a few on my nose or chin.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q4" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Yes, I have enlarged pores and blackheads across my T-zone.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q4" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. Yes, I have enlarged pores and blackheads all over my face.</span>
                        </label>
                    </div>
                </div>

            </div>

            <!-- Section 3: Fine Lines & Ageing -->
            <div class="mb-8">
                <h2 class="text-xl font-bold mb-4 text-[#E93F7C] border-b-2 border-b-[#E93F7C] pb-2">Section 3: Fine Lines & Ageing</h2>
                
                <!-- Question 5 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">5. Do you see fine lines or wrinkles, especially around your eyes, mouth, or forehead?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q5" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. No, my skin is smooth.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q5" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. Yes, a few fine lines that are visible when I make expressions.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q5" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Yes, fine lines are visible even when my face is at rest.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q5" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. Yes, I have deeper wrinkles and a loss of firmness.</span>
                        </label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="mb-6 text-left">
                    <p class="font-semibold text-gray-700 mb-2">6. How would you describe the firmness and elasticity of your skin?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q6" value="A" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">A. Very firm and plump.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q6" value="B" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">B. Mostly firm, with a little bounce.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q6" value="C" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">C. Starting to feel a loss of firmness.</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="q6" value="D" class="form-radio text-[#E93F7C]">
                            <span class="text-gray-600">D. Noticeably saggy or thin.</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="flex justify-center">
                <button type="submit" class="bg-[#E93F7C] hover:bg-[#D7356F] text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 transform hover:scale-105">Find My Routine</button>
            </div>
        </form>

        <!-- Dynamic Results Section -->
        <div id="results" class="mt-8 text-left hidden">
            <!-- Results will be injected here by JavaScript -->
        </div>
    </div>

    <!-- Script to handle quiz logic and display results -->
    <script>
        document.getElementById('skincare-quiz').addEventListener('submit', function(e) {
            e.preventDefault();

            const form = e.target;
            const q1 = form.q1.value;
            const q2 = form.q2.value;
            const q3 = form.q3.value;
            const q4 = form.q4.value;
            const q5 = form.q5.value;
            const q6 = form.q6.value;

            // Simple logic to determine skin type based on responses
            let skinType = 'Normal';
            if (q1 === 'A' || q2 === 'A') {
                skinType = 'Dry';
            } else if (q1 === 'C' || q2 === 'C') {
                skinType = 'Oily';
            } else if (q1 === 'D' || q2 === 'D') {
                skinType = 'Combination';
            }

            let concerns = [];
            if (q3 === 'C' || q3 === 'D' || q4 === 'C' || q4 === 'D') {
                concerns.push('Acne');
            }
            if (q5 === 'C' || q5 === 'D' || q6 === 'C' || q6 === 'D') {
                concerns.push('Aging');
            }
            
            // Build the results message
            let resultsMessage = `
                <div class="bg-gray-100 p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4 text-[#E93F7C]">Your Skincare Routine</h3>
                    <p class="mb-4">Based on your answers, your skin type is: <span class="font-bold text-[#E93F7C]">${skinType}</span></p>
                    <p class="mb-4">Your primary concerns are: <span class="font-bold text-[#E93F7C]">${concerns.length > 0 ? concerns.join(' and ') : 'None'}</span></p>

                    <h4 class="text-xl font-bold mt-6 mb-2 text-[#E93F7C]">Recommended Routine:</h4>
                    <p>This is a placeholder routine. You can customize this content with more detailed information, product recommendations, or a link to a personalized routine page.</p>

                    <ul class="list-disc list-inside mt-4">
                        <li class="mb-2"><strong>Morning:</strong> Cleanse, Tone, Serum, Moisturize, SPF</li>
                        <li class="mb-2"><strong>Evening:</strong> Double Cleanse, Treat, Serum, Moisturize</li>
                    </ul>
                </div>
            `;
            
            document.getElementById('results').innerHTML = resultsMessage;
            document.getElementById('results').classList.remove('hidden');

        });

        // -------------------------------------------------------------------------------------
        // CRITICAL SCRIPT FOR RESIZING THE IFRAME - DO NOT REMOVE
        // This script will send the height of this page to the parent page so it can be resized.
        // It listens for changes to the content and window size.
        // -------------------------------------------------------------------------------------

        function sendHeightToParent() {
            // Get the full height of the main container, including padding and margins.
            const container = document.getElementById('main-container');
            const height = container.scrollHeight + 100; // Add some extra space for padding
            window.parent.postMessage({
                id: 'skincare-builder-recolored',
                height: height
            }, '*');
        }

        // Send the height on page load
        window.addEventListener('load', sendHeightToParent);

        // Re-send the height on form submission (when the results appear)
        document.getElementById('skincare-quiz').addEventListener('submit', sendHeightToParent);

        // Re-send the height whenever the window is resized
        window.addEventListener('resize', sendHeightToParent);

    </script>
</body>
</html>


