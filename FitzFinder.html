<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title></title>
<!-- Google Fonts for branding -->
<link href="https://fonts.googleapis.com" rel="preconnect" />
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&amp;family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet" /><!-- Use Tailwind CSS for rapid styling --><script src="https://cdn.tailwindcss.com"></script>
<style type="text/css">body {
            font-family: 'Inter', sans-serif;
            background-color: #f8e9f5; /* A soft, light pink color */
            color: #4a4a4a;
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            border-radius: 1.5rem;
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .auntie-esty-logo {
            font-family: 'Dancing Script', cursive;
            color: #d896a2;
            font-size: 3.5rem;
            line-height: 1;
        }
        .question-card {
            background-color: #fefefe;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
        }
        input[type="radio"]:checked + label {
            background-color: #d896a2;
            color: white;
            border-color: #c47b85;
        }
        label.radio-label {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            display: block;
            margin-top: 0.5rem;
            font-size: 0.875rem;
            color: #4a4a4a;
        }
        #message-box {
            display: none;
        }
        .risk-box-1 { background-color: #fee2e2; border: 1px solid #fca5a5; }
        .risk-box-2 { background-color: #fff8e1; border: 1px solid #fcd34d; }
        .risk-box-3 { background-color: #e0f2fe; border: 1px solid #93c5fd; }
        .risk-box-4 { background-color: #f3e8ff; border: 1px solid #d8b4fe; }
        .risk-box-heading { font-weight: 700; color: #7f1d1d; }
        .risk-box-text { color: #4a4a4a; }
</style>
<div class="container">
<div class="text-center mb-8">
<h1 class="auntie-esty-logo">Auntie Esty</h1>

<p class="text-xl text-gray-600 font-medium">YOUR SKINCARE &amp; BEAUTY BESTIE</p>
</div>

<p class="text-center text-gray-600 mb-8">This tool will help you determine your skin type based on the Fitzpatrick scale. Please answer the questions below as accurately as possible.</p>
<!-- Quiz Form -->

<div id="quiz-form"><!-- Question 1 -->
<div class="question-card mb-4" id="question-1">
<h3 class="text-lg">1. What is your natural eye color?</h3>

<div class="space-y-2"><input class="hidden" id="q1a1" name="q1" type="radio" value="0" /> <label class="radio-label" for="q1a1">Light blue, gray, or green</label> <input class="hidden" id="q1a2" name="q1" type="radio" value="1" /> <label class="radio-label" for="q1a2">Blue, hazel, or brown</label> <input class="hidden" id="q1a3" name="q1" type="radio" value="2" /> <label class="radio-label" for="q1a3">Dark brown</label></div>
</div>
<!-- Question 2 -->

<div class="question-card mb-4 hidden" id="question-2">
<h3 class="text-lg">2. What is your natural hair color?</h3>

<div class="space-y-2"><input class="hidden" id="q2a1" name="q2" type="radio" value="0" /> <label class="radio-label" for="q2a1">Red or very light blonde</label> <input class="hidden" id="q2a2" name="q2" type="radio" value="1" /> <label class="radio-label" for="q2a2">Blonde</label> <input class="hidden" id="q2a3" name="q2" type="radio" value="2" /> <label class="radio-label" for="q2a3">Brown</label> <input class="hidden" id="q2a4" name="q2" type="radio" value="3" /> <label class="radio-label" for="q2a4">Dark brown or black</label></div>
</div>
<!-- Question 3 -->

<div class="question-card mb-4 hidden" id="question-3">
<h3 class="text-lg">3. What is your skin color (unexposed areas)?</h3>

<div class="space-y-2"><input class="hidden" id="q3a1" name="q3" type="radio" value="0" /> <label class="radio-label" for="q3a1">Ivory white</label> <input class="hidden" id="q3a2" name="q3" type="radio" value="1" /> <label class="radio-label" for="q3a2">White or fair</label> <input class="hidden" id="q3a3" name="q3" type="radio" value="2" /> <label class="radio-label" for="q3a3">Beige, with a golden undertone</label> <input class="hidden" id="q3a4" name="q3" type="radio" value="3" /> <label class="radio-label" for="q3a4">Light brown or olive</label> <input class="hidden" id="q3a5" name="q3" type="radio" value="4" /> <label class="radio-label" for="q3a5">Dark brown</label> <input class="hidden" id="q3a6" name="q3" type="radio" value="5" /> <label class="radio-label" for="q3a6">Very dark brown or black</label></div>
</div>
<!-- Question 4 -->

<div class="question-card mb-4 hidden" id="question-4">
<h3 class="text-lg">4. How does your face respond to the sun?</h3>

<div class="space-y-2"><input class="hidden" id="q4a1" name="q4" type="radio" value="0" /> <label class="radio-label" for="q4a1">Always burns, peels, and never tans</label> <input class="hidden" id="q4a2" name="q4" type="radio" value="1" /> <label class="radio-label" for="q4a2">Burns sometimes, peels sometimes, tans with difficulty</label> <input class="hidden" id="q4a3" name="q4" type="radio" value="2" /> <label class="radio-label" for="q4a3">Burns on rare occasions, tans easily</label> <input class="hidden" id="q4a4" name="q4" type="radio" value="3" /> <label class="radio-label" for="q4a4">Never burns, tans very easily</label></div>
</div>
<!-- Question 5 -->

<div class="question-card mb-4 hidden" id="question-5">
<h3 class="text-lg">5. How does your body respond to the sun?</h3>

<div class="space-y-2"><input class="hidden" id="q5a1" name="q5" type="radio" value="0" /> <label class="radio-label" for="q5a1">Always burns, never tans</label> <input class="hidden" id="q5a2" name="q5" type="radio" value="1" /> <label class="radio-label" for="q5a2">Burns sometimes, tans with difficulty</label> <input class="hidden" id="q5a3" name="q5" type="radio" value="2" /> <label class="radio-label" for="q5a3">Burns on rare occasions, tans easily</label> <input class="hidden" id="q5a4" name="q5" type="radio" value="3" /> <label class="radio-label" for="q5a4">Never burns, tans very easily</label></div>
</div>
<!-- Question 6 -->

<div class="question-card mb-4 hidden" id="question-6">
<h3 class="text-lg">6. Do you have freckles (unexposed areas)?</h3>

<div class="space-y-2"><input class="hidden" id="q6a1" name="q6" type="radio" value="0" /> <label class="radio-label" for="q6a1">Yes</label> <input class="hidden" id="q6a2" name="q6" type="radio" value="1" /> <label class="radio-label" for="q6a2">No</label></div>
</div>
<!-- Navigation Buttons -->

<div class="flex justify-between mt-6"><button class="px-6 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold shadow-md hover:bg-gray-300 transition duration-300 ease-in-out hidden" id="back-button" onclick="previousQuestion()">Back</button><button class="px-6 py-3 bg-rose-300 text-white rounded-lg font-semibold shadow-md hover:bg-rose-400 transition duration-300 ease-in-out" id="next-button" onclick="nextQuestion()">Next</button><button class="px-6 py-3 bg-rose-300 text-white rounded-lg font-semibold shadow-md hover:bg-rose-400 transition duration-300 ease-in-out hidden" id="calculate-button" onclick="calculateScore()">Calculate My Skin Type</button></div>
</div>
<!-- Results Section -->

<div class="hidden mt-8 text-center" id="results">
<h2 class="text-2xl font-bold mb-2">Your Fitzpatrick Skin Type</h2>

<div class="text-6xl font-extrabold text-rose-400 my-4" id="skin-type-display">&nbsp;</div>
<img alt="Skin type illustration" class="mx-auto my-4 rounded-lg shadow-md" id="skin-type-image" />
<p class="text-lg text-gray-700 leading-relaxed" id="description-display">&nbsp;</p>
<button class="mt-6 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition duration-300 ease-in-out" onclick="resetQuiz()">Take the Quiz Again</button></div>
</div>
<!-- Message box for user notifications -->

<div class="fixed top-4 left-1/2 -translate-x-1/2 p-4 rounded-lg shadow-xl z-50 transition-transform duration-300 ease-out transform-gpu text-white font-semibold" id="message-box">&nbsp;</div>
<script>
        const questions = ['question-1', 'question-2', 'question-3', 'question-4', 'question-5', 'question-6'];
        let currentQuestionIndex = 0;

        function showQuestion(index) {
            questions.forEach((id, i) => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(questions[index]).classList.remove('hidden');

            const backButton = document.getElementById('back-button');
            const nextButton = document.getElementById('next-button');
            const calculateButton = document.getElementById('calculate-button');
            
            // Show/hide navigation buttons based on current question
            backButton.classList.toggle('hidden', index === 0);
            nextButton.classList.toggle('hidden', index === questions.length - 1);
            calculateButton.classList.toggle('hidden', index !== questions.length - 1);
        }

        function nextQuestion() {
            const selectedAnswer = document.querySelector(`input[name="q${currentQuestionIndex + 1}"]:checked`);
            if (!selectedAnswer) {
                displayMessage("Please select an answer to continue.", false);
                return;
            }
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        function calculateScore() {
            let totalScore = 0;
            const form = document.getElementById('quiz-form');
            const questionNames = ['q1', 'q2', 'q3', 'q4', 'q5', 'q6'];
            let allAnswered = true;

            questionNames.forEach(qName => {
                const selected = form.querySelector(`input[name="${qName}"]:checked`);
                if (selected) {
                    totalScore += parseInt(selected.value);
                } else {
                    allAnswered = false;
                }
            });

            if (!allAnswered) {
                displayMessage("Please answer all the questions to get your result.", false);
                return;
            }

            let skinType = '';
            let description = '';
            let imageAltText = '';
            let imageUrl = '';
            let riskClass = '';
            let riskHeadingColor = '';

            // Map scores to Fitzpatrick types and descriptions based on corrected ranges
            if (totalScore <= 2) {
                skinType = 'I';
                description = `You have very sensitive skin that always burns and never tans. Your skin is typically very pale with freckles. You likely have light-colored eyes and red or blonde hair. It is crucial to use high-SPF sun protection at all times.`;
                imageAltText = 'Fitzpatrick skin type 1';
                imageUrl = 'https://placehold.co/200x200/F5DEB3/FFFFFF?text=Type+I';
                riskClass = 'risk-box-1';
                riskHeadingColor = 'text-red-700';
            } else if (totalScore <= 6) {
                skinType = 'II';
                description = `You have sensitive skin that usually burns and peels, but may tan with difficulty. Your skin is typically fair, and you may have freckles. You likely have light-colored eyes and blonde hair. Consistent sun protection is very important for you.`;
                imageAltText = 'Fitzpatrick skin type 2';
                imageUrl = 'https://placehold.co/200x200/F3E9DD/FFFFFF?text=Type+II';
                riskClass = 'risk-box-1';
                riskHeadingColor = 'text-red-700';
            } else if (totalScore <= 10) {
                skinType = 'III';
                description = `You have a medium skin tone that sometimes burns, but gradually and evenly tans. Your skin tone is typically beige with a golden undertone. You likely have light brown or hazel eyes and hair. Sun protection is still highly recommended for daily wear.`;
                imageAltText = 'Fitzpatrick skin type 3';
                imageUrl = 'https://placehold.co/200x200/D2B48C/FFFFFF?text=Type+III';
                riskClass = 'risk-box-2';
                riskHeadingColor = 'text-yellow-700';
            } else if (totalScore <= 13) {
                skinType = 'IV';
                description = `You have skin that rarely burns and tans very easily. Your skin tone is typically light brown or olive. You likely have dark eyes and hair. While your skin is more resistant to burning, sun protection is still essential to prevent aging and other damage.`;
                imageAltText = 'Fitzpatrick skin type 4';
                imageUrl = 'https://placehold.co/200x200/C0916A/FFFFFF?text=Type+IV';
                riskClass = 'risk-box-3';
                riskHeadingColor = 'text-blue-700';
            } else if (totalScore <= 16) {
                skinType = 'V';
                description = `You have skin that never burns and tans with great ease and intensity. Your skin tone is typically dark brown. You likely have dark eyes and hair. While burning is not a primary concern, you should still use sun protection to prevent sun damage.`;
                imageAltText = 'Fitzpatrick skin type 5';
                imageUrl = 'https://placehold.co/200x200/8B4513/FFFFFF?text=Type+V';
                riskClass = 'risk-box-4';
                riskHeadingColor = 'text-purple-700';
            } else { // 17+
                skinType = 'VI';
                description = `You have skin that never burns and is deeply pigmented. Your skin tone is typically very dark brown or black. You likely have very dark eyes and hair. While you have the most natural protection from the sun, you should still use sun protection to maintain skin health.`;
                imageAltText = 'Fitzpatrick skin type 6';
                imageUrl = 'https://placehold.co/200x200/4F2C18/FFFFFF?text=Type+VI';
                riskClass = 'risk-box-4';
                riskHeadingColor = 'text-purple-700';
            }
            
            // Add a risk section to the description
            let risks = '';
            if (skinType === 'I' || skinType === 'II') {
                risks = `
                <div class="mt-4 p-4 rounded-lg ${riskClass}">
                    <h4 class="font-bold ${riskHeadingColor}">Associated Risks:</h4>
                    <ul class="list-disc list-inside mt-2 text-left">
                        <li>Highest risk for all types of skin cancer, including <b class="text-red-600">melanoma</b>.</li>
                        <li>High risk of premature skin aging, such as wrinkles and sun spots.</li>
                        <li><b class="text-red-600">SPF Recommendation:</b> Consistent daily use of a broad-spectrum sunscreen with SPF 30 or higher is non-negotiable.</li>
                    </ul>
                </div>`;
            } else if (skinType === 'III') {
                risks = `
                <div class="mt-4 p-4 rounded-lg ${riskClass}">
                    <h4 class="font-bold ${riskHeadingColor}">Associated Risks:</h4>
                    <ul class="list-disc list-inside mt-2 text-left">
                        <li>Increased risk for all types of skin cancer compared to darker skin types.</li>
                        <li>Risk of premature aging and developing hyperpigmentation (dark spots).</li>
                        <li><b class="text-yellow-700">SPF Recommendation:</b> Use a broad-spectrum SPF 30 daily, especially when outdoors for extended periods.</li>
                    </ul>
                </div>`;
            } else if (skinType === 'IV') {
                risks = `
                <div class="mt-4 p-4 rounded-lg ${riskClass}">
                    <h4 class="font-bold ${riskHeadingColor}">Associated Risks:</h4>
                    <ul class="list-disc list-inside mt-2 text-left">
                        <li>Low risk of sunburn, but still susceptible to skin cancer.</li>
                        <li>High risk of <b class="text-blue-600">hyperpigmentation</b> and uneven skin tone from sun exposure.</li>
                        <li><b class="text-blue-600">SPF Recommendation:</b> Consistent sun protection with at least SPF 30 is vital to prevent sun damage and discoloration.</li>
                    </ul>
                </div>`;
            } else if (skinType === 'V' || skinType === 'VI') {
                risks = `
                <div class="mt-4 p-4 rounded-lg ${riskClass}">
                    <h4 class="font-bold ${riskHeadingColor}">Associated Risks:</h4>
                    <ul class="list-disc list-inside mt-2 text-left">
                        <li>Extremely low risk of sunburn, but skin cancer can still occur and is often more difficult to detect.</li>
                        <li>High risk of post-inflammatory hyperpigmentation.</li>
                        <li><b class="text-purple-700">SPF Recommendation:</b> Daily broad-spectrum sun protection is important to maintain an even skin tone and overall skin health, even though you don't burn easily.</li>
                    </ul>
                </div>`;
            }

            // Display results
            document.getElementById('skin-type-display').textContent = skinType;
            document.getElementById('description-display').innerHTML = description + risks;
            document.getElementById('skin-type-image').src = imageUrl;
            document.getElementById('skin-type-image').alt = imageAltText;
            document.getElementById('quiz-form').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            showQuestion(currentQuestionIndex);
            document.getElementById('quiz-form').classList.remove('hidden');
            document.getElementById('results').classList.add('hidden');
            // Uncheck all radio buttons
            const radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => radio.checked = false);
            document.getElementById('skin-type-image').src = '';
            document.getElementById('skin-type-image').alt = '';
        }

        function displayMessage(message, isSuccess = true) {
            let messageBox = document.getElementById('message-box');
            if (!messageBox) {
                // Should not happen with the new HTML, but as a fallback
                messageBox = document.createElement('div');
                messageBox.id = 'message-box';
                messageBox.classList.add('fixed', 'top-4', 'left-1/2', '-translate-x-1/2', 'p-4', 'rounded-lg', 'shadow-xl', 'z-50', 'transition-transform', 'duration-300', 'ease-out', 'transform-gpu', 'text-white', 'font-semibold');
                document.body.appendChild(messageBox);
            }

            messageBox.textContent = message;
            messageBox.classList.remove('bg-green-500', 'bg-red-500', '-translate-y-full');
            if (isSuccess) {
                messageBox.classList.add('bg-green-500');
            } else {
                messageBox.classList.add('bg-red-500');
            }
            messageBox.style.display = 'block';

            setTimeout(() => {
                messageBox.style.display = 'none';
            }, 3000); // Hide after 3 seconds
        }

        // Initial call to set up the first question
        window.onload = function() {
            showQuestion(currentQuestionIndex);
        }
    </script>